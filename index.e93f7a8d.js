import{o as e,c as a,a as n,d as t,t as l,r as s,w as r,p as o,b as i,e as c,f as d,g as p,h as g,u as m,F as u,i as f}from"./vendor.3b9ebf59.js";const v={},b=n("canvas",null,null,-1);v.render=function(n,t){return e(),a("main",null,[b])};const x={class:"border-2 rounded pb-2 px-2"};var w=t({props:{label:{type:String,required:!0}},setup(t){const r=t;return(t,o)=>(e(),a("fieldset",x,[n("legend",null,l(r.label),1),s(t.$slots,"default")]))}});const h=n("ul",null,null,-1);var I=t({setup:n=>(n,t)=>(e(),a(w,{class:"flex-grow border-2 overflow-auto",label:"Cards"},{default:r((()=>[h])),_:1}))}),L=t({setup:n=>(n,t)=>(e(),a(w,{class:"flex-grow w-96",label:"{{ Card Title }}"}))});const y={},k=c("data-v-6eb1b4ae");o("data-v-6eb1b4ae");const E={class:"logo bg-center bg-contain bg-no-repeat image-rendering-pixelated h-16 flex-shrink-0"};i();const R=k(((n,t)=>(e(),a("div",E))));y.render=R,y.__scopeId="data-v-6eb1b4ae";o("data-v-78ae9258");const C=n("img",{src:"./assets/icon-image-upload.svg",class:"h-5 inline"},null,-1);i();var U=t({props:{label:{type:String,required:!0},filename:{type:String,required:!1}},emits:["upload"],setup(t,{emit:s}){const r=t,o=e=>{const a=Array.from(e||[]).find((e=>e.type.startsWith("image/")));a&&s("upload",a)},i=e=>{var a;o(null==(a=e.dataTransfer)?void 0:a.files)},c=e=>{const a=e.target;o(a.files),a.value=""};return(t,s)=>(e(),a("label",{class:"flex flex-row border-2 rounded items-center justify-between p-2 cursor-pointer",onDragenter:s[1]||(s[1]=p((()=>{}),["prevent"])),onDragover:s[2]||(s[2]=p((()=>{}),["prevent"])),onDrop:p(i,["prevent"])},[d(l(r.label)+": "+l(r.filename||"None")+" ",1),C,n("input",{class:"visually-hidden",onChange:c,type:"file",accept:"image/*"},null,32)],40,["onDrop"]))}});U.__scopeId="data-v-78ae9258";const j=g({settings:{backgroundImage:{},topLeftImage:{},topCenterImage:{},topRightImage:{}}}),S=e=>new Promise(((a,n)=>{const t=new FileReader,l=()=>{t.removeEventListener("load",l),t.removeEventListener("error",s),a(t.result)},s=()=>{t.removeEventListener("load",l),t.removeEventListener("error",s),n(t.error)};t.addEventListener("load",l),t.addEventListener("error",s),console.log("readAsDataURL",e),t.readAsDataURL(e)}));var D=t({setup(t){const l=e=>c("backgroundImage",e),s=e=>c("topLeftImage",e),o=e=>c("topCenterImage",e),i=e=>c("topRightImage",e),c=async(e,a)=>{j.settings[e]={filename:a.name,payload:await S(a)}};return(t,c)=>(e(),a(w,{class:"flex flex-col gap-2 flex-grow w-96",label:"Settings"},{default:r((()=>[n(U,{label:"Background Image",filename:m(j).settings.backgroundImage.filename,onUpload:l},null,8,["filename"]),n(U,{label:"Top Left Image",filename:m(j).settings.topLeftImage.filename,onUpload:s},null,8,["filename"]),n(U,{label:"Top Center Image",filename:m(j).settings.topCenterImage.filename,onUpload:o},null,8,["filename"]),n(U,{label:"Top Right Image",filename:m(j).settings.topRightImage.filename,onUpload:i},null,8,["filename"])])),_:1}))}});const _=n("img",{src:"./assets/icon-import.svg",class:"h-5 inline"},null,-1),O=n("span",{class:"align-middle"},"Import",-1),T=n("img",{src:"./assets/icon-export.svg",class:"h-5 inline"},null,-1),q=n("span",{class:"align-middle"},"Export",-1),$=n("img",{src:"./assets/icon-save.svg",class:"h-5 inline"},null,-1),A=n("span",{class:"align-middle"},"Save",-1);var F=t({setup(t){const l=async()=>{const e=await((e="text/plain")=>new Promise((a=>{const n=document.createElement("input");n.type="file",n.accept=e,n.multiple=!0;const t=()=>{n.removeEventListener("change",t),a(n.files[0])};n.addEventListener("change",t),n.click()})))("application/json"),a=await e.text(),n=JSON.parse(a);Object.assign(j,n)},s=()=>{const e=new Date;((e,a,n="text/plain")=>{const t=new Blob([a],{type:n}),l=URL.createObjectURL(t),s=document.createElement("a");s.href=l,s.download=e,s.click(),queueMicrotask((()=>{URL.revokeObjectURL(l)}))})(`victorum-cards-${e.getFullYear()}-${e.getMonth()}-${e.getDate()}.json`,JSON.stringify(j,null,2),"application/json")},o=()=>{console.log("handleSave")};return(t,i)=>(e(),a(w,{class:"flex flex-row items-center justify-around",label:"Share"},{default:r((()=>[n("button",{class:"flex flex-row gap-1 items-center min-w-max p-2 border-2 rounded",onClick:l},[_,O]),n("button",{class:"flex flex-row gap-1 items-center min-w-max p-2 border-2 rounded",onClick:s},[T,q]),n("button",{class:"flex flex-row gap-1 items-center min-w-max p-2 border-2 rounded",onClick:o},[$,A])])),_:1}))}});const N={class:"m-0 p-4 h-full w-96 flex flex-col gap-4"},B={class:"flex flex-col p-4 gap-4"};var J=t({setup:t=>(t,l)=>(e(),a(u,null,[n("menu",N,[n(y),n(I),n(F)]),n(v),n("div",B,[n(D),n(L)])],64))});addEventListener("load",(()=>{f(J).mount("#app")}));
